
# Техническая документация

## Описание
Приложение включает клиентскую и серверную часть. Клиентская часть написана на **React** и предоставляет интерфейс для загрузки файлов и выгрузки данных. Серверная часть написана на **Python** с использованием **Flask**, обрабатывает загруженные PDF-файлы и формирует файл Excel.

---

## Структура проекта

### Клиентская часть
- **`src/`**: Исходный код клиентского приложения.
  - **`App.css`**: Стили для пользовательского интерфейса.
  - **`App.js`**: Логика React-компонента.
  - **`index.js`**: Точка входа для React-приложения.
- **`public/`**: Статические файлы, включая логотип.

### Серверная часть
- **`server.py`**: Основной файл приложения Flask.
- **`uploads/`**: Папка для хранения загруженных файлов и сформированного Excel-файла.

---

## Клиентская часть

### Установка и запуск
#### Требования
- Node.js (рекомендуется версия 16 или выше).
- NPM или Yarn.

#### Установка зависимостей
1. Клонируйте репозиторий:
   ```bash
   git clone <URL репозитория>
   ```
2. Перейдите в папку проекта:
   ```bash
   cd <название проекта>
   ```
3. Установите зависимости:
   ```bash
   npm install
   ```

#### Запуск
1. Для разработки:
   ```bash
   npm start
   ```
   Приложение будет доступно по адресу `http://localhost:3000`.

2. Для продакшена:
   ```bash
   npm run build
   ```
   Сборка будет находиться в папке `build`.

---

## Серверная часть

### Установка и запуск
#### Требования
- Python 3.8 или выше.
- Установленные зависимости из `requirements.txt`:
  ```bash
  pip install flask flask-cors PyPDF2 openpyxl
  ```

#### Запуск сервера
1. Перейдите в папку сервера.
2. Запустите сервер:
   ```bash
   python server.py
   ```
   Сервер будет доступен по адресу `http://localhost:5000`.

---

## Взаимодействие клиента и сервера

### API эндпоинты

#### Загрузка файлов
- **URL**: `POST /upload`
- **Описание**: Загружает PDF-файлы, обрабатывает их и возвращает Excel-файл.
- **Параметры**: Список файлов (`file`).

#### Выгрузка базы данных
- **URL**: `GET /export-db`
- **Описание**: Возвращает ранее сформированный Excel-файл из папки `uploads/`.

---

## Основные файлы

### `App.js` (Клиентская часть)
Реализует:
1. Загрузку файлов на сервер.
2. Вывод прогресса загрузки.
3. Скачивание файла с данными.

### `server.py` (Серверная часть)
Реализует:
1. Обработку загружаемых PDF-файлов.
2. Формирование файла Excel.
3. Скачивание файла с данными.

#### Основные классы и функции
1. **Класс `PDF_parser`**:
   - Обрабатывает текст из PDF.
   - Ищет определенные шаблоны.
   - Записывает данные в Excel.
2. **Функция `upload_files`**:
   - Загружает файлы на сервер.
   - Формирует Excel-файл.
3. **Функция `export_db`**:
   - Возвращает сформированный Excel-файл.

---

## Развертывание

### Клиент
1. Выполните сборку:
   ```bash
   npm run build
   ```
2. Настройте сервер для раздачи статических файлов (например, Nginx):
   ```nginx
   server {
       listen 80;
       server_name yourdomain.com;

       root /path/to/build;
       index index.html;

       location / {
           try_files $uri /index.html;
       }
   }
   ```

### Сервер
1. Убедитесь, что Python и зависимости установлены.
2. Запустите сервер:
   ```bash
   python server.py
   ```
3. Настройте прокси для доступа к серверу (например, через Nginx):
   ```nginx
   location /api/ {
       proxy_pass http://localhost:5000/;
       proxy_set_header Host $host;
       proxy_set_header X-Real-IP $remote_addr;
   }
   ```

---

## Потенциальные улучшения
1. Добавить обработку ошибок на клиентской стороне.
2. Добавить тесты для сервера и клиента.
3. Настроить логирование операций на сервере.
4. Интеграция с базой данных для хранения информации.
